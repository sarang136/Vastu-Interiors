;/*FB_PKG_DELIM*/

__d("useFetchAnimatedImageThumbnail",["FBLogger","MAWAttachmentBlob.react","MAWImageUtils","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useEffect,j=e.useState;function a(a,e,f,g){var h=j(null),k=h[0],l=h[1];i(function(){var h=null;function i(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=null;if(e==null&&a!=null)b=a;else try{(e==null?void 0:e.previewUrl)!=null?b=e==null?void 0:e.previewUrl:e!=null&&(b=d("MAWAttachmentBlob.react").getAttachmentBlob(e,"gifToBlob",null))}catch(a){return null}if(b==null)return null;b=(yield d("MAWImageUtils").generateGIFThumbnail(b,f,g));if(b!=null){b=new Blob([b.jpegThumbnail]);h=URL.createObjectURL(b);l(h)}});return j.apply(this,arguments)}i()["catch"](function(){c("FBLogger")("gif picker").mustfix("GIF thumbnail generation failed"),l(null)});return function(){h!=null&&URL.revokeObjectURL(h)}},[e,f,a,g]);return k}g["default"]=a}),98);